<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CedarScapes | Discover Impalutao's Hidden Paradise</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Leaflet CSS/JS for interactive map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    /* Tab-style sections */
    .section { display: none; }
    .section.active { display: block; }

    /* Gallery citations */
    .gallery-card p { font-size: 0.9rem; color: #555; margin-top: 5px; }

    /* Popup styles */
    .popup {
      display: none;
      position: fixed;
      top:0; left:0;
      width:100%;
      height:100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .popup-content {
      position: relative;
      background: #fff;
      padding: 10px;
      border-radius: 8px;
      max-width: 90%;
      max-height: 90%;
      text-align: center;
    }
    .popup-content img {
      max-width: 100%;
      max-height: 70vh;
    }
    .popup-content p {
      margin: 10px 0 0 0;
      font-size: 0.9rem;
      font-style: italic;
    }
    .popup-content a {
      display: inline-block;
      margin-top: 5px;
      color: #007BFF;
      text-decoration: none;
    }
    /* About section: two-column layout (left text, right map) */
    .about-row {
      display: flex;
      gap: 40px;
      align-items: flex-start;
      justify-content: center;
      flex-wrap: wrap;
      margin: 20px auto 24px;
      max-width: 1180px;
      padding: 0 18px;
    }
    .about-row .about {
      flex: 1 1 520px;
      min-width: 320px;
      max-width: 560px;
      text-align: left;
      margin-top: 0;
    }
    .about-row .about h2 { margin: 0 0 8px 0; }
    .about-row .about p { line-height: 1.45; color: #1f2f2a; }

    .about-row .about-map {
      flex: 1 1 560px;
      min-width: 320px;
      max-width: 720px;
      display: flex;
      justify-content: center;
      align-items: flex-start; /* top-align map with About heading */
    }
    .about-row .about-map .map-media {
      width: 100%;
      height: 620px;
      min-height: 420px;
      border-radius: 6px;
      box-shadow: 0 8px 26px rgba(0,0,0,0.06);
      display: block;
      background: #f7f7f7;
      border: 6px solid #f0f6f3; /* subtle frame */
      margin-top: 0; /* ensure top edge aligns with heading */
      overflow: hidden;
      /* allow user interaction with the interactive map */
      pointer-events: auto;
    }

    .why-title { color: #0aa06a; font-size: 1.6rem; margin: 18px 0; font-weight:700; }
    .why-list { list-style: none; padding: 0; margin: 0; max-width: 560px; }
    .why-list li { display:flex; align-items:center; gap:14px; padding:14px 0; border-bottom:1px solid rgba(10,60,40,0.06); color:#2b6b57; font-weight:600; }
    .why-list li .icon { width:34px; text-align:center; font-size:1.1rem; }
  </style>
</head>
<body>

  <!-- Navigation -->
  <header>
    <nav class="navbar">
      <div class="logo" onclick="openLogoPopup()">
        <img src="cedarscape.png" alt="CedarScapes Logo">
        <span>CedarScapes</span>
      </div>

      <ul class="nav-links">
        <li><a onclick="showSection('home')">Home</a></li>
        <li><a onclick="showSection('about')">About</a></li>
        <li><a onclick="showSection('attractions')">Attractions</a></li>
        <li><a onclick="showSection('gallery')">Gallery</a></li>
        <li><a onclick="showSection('blog')">Stories</a></li>
        <li><a onclick="showSection('contact')">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- Home -->
  <section id="home" class="section">
    <div class="hero">
      <div class="hero-content">
        <h1>Welcome to CedarScapes</h1>
        <p>Where Nature Meets Adventure.</p>
        <button onclick="showSection('about')">Begin Your Journey</button>
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="section">
    <div class="about-row">
      <div class="about">
        <h2>About CedarScapes</h2>
        <p>Deep within the lush highlands of Impalutao, Malaybalay City, Bukidnon, lies a sanctuary of nature called Cedar ‚Äî a place where adventure, relaxation, and discovery intertwine. Known for its majestic pine trees and cool mountain air, this eco-park offers visitors a refreshing escape from the bustling city life.</p>
        <p>Whether you're hiking through forest trails, pitching a tent under a sea of stars, or dipping your feet in a crystal-clear stream, every moment at Cedar reconnects you with the wonders of nature.</p>

        <h3 class="why-title">Why Visit CedarScapes?</h3>
        <ul class="why-list">
          <li><span class="icon">üå≤</span>Pristine pine forests and natural landscapes</li>
          <li><span class="icon">üèïÔ∏è</span>Well-maintained camping facilities</li>
          <li><span class="icon">üíß</span>Crystal-clear streams and natural waterfalls</li>
          <li><span class="icon">ü•æ</span>Scenic hiking trails for all levels</li>
          <li><span class="icon">üåå</span>Perfect spot for stargazing and nature photography</li>
          <li><span class="icon">üåø</span>Eco-friendly and sustainable tourism</li>
        </ul>
      </div>

      <div class="about-map">
        <!-- Interactive Leaflet map container -->
        <div id="aboutMap" class="map-media" aria-label="Interactive map of CedarScapes"></div>
      </div>
    </div>

    <div class="guidelines">
      <h2>Visitor Guidelines</h2>
      <h3>1. Essentials</h3>
      <ul>
        <li>Valid ID</li>
        <li>Cash for entrance and guide fees</li>
        <li>Phone + power bank</li>
        <li>Waterproof or dry bag</li>
      </ul>
      <h3>2. Clothing & Footwear</h3>
      <ul>
        <li>Comfortable trekking clothes</li>
        <li>Non-slip trekking shoes or sandals</li>
        <li>Extra shirt and towel</li>
      </ul>
      <h3>3. Water & Food</h3>
      <ul>
        <li>1‚Äì2 liters of drinking water</li>
        <li>Light snacks</li>
      </ul>
      <h3>4. Protection</h3>
      <ul>
        <li>Sunscreen</li>
        <li>Insect repellent</li>
        <li>Cap or hat</li>
      </ul>
      <h3>5. Safety</h3>
      <ul>
        <li>Small first aid kit</li>
        <li>Flashlight</li>
        <li>Trash bag (Leave No Trace)</li>
      </ul>
    </div>
  </section>

  <!-- Attractions -->
  <section id="attractions" class="section">
    <div class="attractions">
      <h2>Must-Visit Attractions</h2>
      <div class="attractions-container">
        <div class="attraction-card">
          <img src="natigbasan.jpg" alt="Natigbasan Falls">
          <h3>Natigbasan Falls</h3>
          <p>The first enchanting waterfall you‚Äôll meet. 720 meters long </p>
        </div>
        <div class="attraction-card">
          <img src="gantungan.jpg" alt="Gantungan Falls">
          <h3>Gantungan Falls</h3>
          <p>Located after Natigbasan Falls, this is the second waterfall in the CEDAR complex. Approximately 12 meters (39 feet).</p>
        </div>
        <div class="attraction-card">
          <img src="dila.jpg" alt="Dila Falls">
          <h3>Dila Falls</h3>
          <p>The final and largest of the three waterfalls, standing at 960 meters. </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Gallery -->
  <section id="gallery" class="section">
    <div class="gallery">
      <h2>Gallery</h2>
      <div class="gallery-container">
        <!-- 12 replaceable images -->
        <div class="gallery-card" data-citation="Citation 1" data-link="https://example.com/1">
          <img src="cedar_bg.jpg" alt="Image 1">
        </div>
        <div class="gallery-card" data-citation="Citation 2" data-link="https://www.pinoyadventurista.com/2013/03/hiking-and-waterfalls-hopping-at-cedar-bukidnon.html">
          <img src="dila.jpg" alt="Image 2">
        </div>
        <div class="gallery-card" data-citation="Citation 3" data-link="https://www.pinoyadventurista.com/2013/03/hiking-and-waterfalls-hopping-at-cedar-bukidnon.html">
          <img src="gantungan.jpg" alt="Image 3">
        </div>
        <div class="gallery-card" data-citation="Citation 4" data-link="https://www.pinoyadventurista.com/2013/03/hiking-and-waterfalls-hopping-at-cedar-bukidnon.html">
          <img src="natigbasan.jpg" alt="Image 4">
        </div>
        <div class="gallery-card" data-citation="Citation 5" data-link="https://example.com/5">
          <img src="image5.jpg" alt="Image 5">
        </div>
        <div class="gallery-card" data-citation="Citation 6" data-link="https://example.com/6">
          <img src="image6.jpg" alt="Image 6">
        </div>
        <div class="gallery-card" data-citation="Citation 7" data-link="https://example.com/7">
          <img src="image7.jpg" alt="Image 7">
        </div>
        <div class="gallery-card" data-citation="Citation 8" data-link="https://example.com/8">
          <img src="image8.jpg" alt="Image 8">
        </div>
        <div class="gallery-card" data-citation="Citation 9" data-link="https://example.com/9">
          <img src="image9.jpg" alt="Image 9">
        </div>
        <div class="gallery-card" data-citation="Citation 10" data-link="https://example.com/10">
          <img src="image10.jpg" alt="Image 10">
        </div>
        <div class="gallery-card" data-citation="Citation 11" data-link="https://example.com/11">
          <img src="image11.jpg" alt="Image 11">
        </div>
        <div class="gallery-card" data-citation="Citation 12" data-link="https://example.com/12">
          <img src="image12.jpg" alt="Image 12">
        </div>
      </div>
    </div>
  </section>

  <!-- Popup Viewer -->
  <div id="imagePopup" class="popup">
    <div class="popup-content">
      <img id="popupImage" src="" alt="">
      <p id="popupCitation"></p>
      <a id="popupLink" href="#" target="_blank">View Source</a>
    </div>
  </div>

  <!-- Blog -->
  <section id="blog" class="section">
    <div class="blog">
      <h2>Travel Stories</h2>
      <div class="blog-container">
        <article class="blog-post">
          <img src="image13.jpg" alt="Trail Adventure">
          <h3>Into the Cedar Trails</h3>
          <p>Like walking inside a living painting...</p>
        </article>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="section">
    <div class="contact">
      <h2>Contact Us</h2>
      <p>We‚Äôd love to assist your next adventure!</p>
      <form id="contactForm">
        <input type="text" placeholder="Full Name" required />
        <input type="email" placeholder="Email" required />
        <textarea placeholder="Message" rows="5" required></textarea>
        <button>Send Message</button>
      </form>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 CedarScapes | All Rights Reserved</p>
  </footer>

  <!-- ===== SCRIPTS ===== -->
  <script>
    // Tab functionality
    // Leaflet map instance (set in DOMContentLoaded)
    let aboutMap = null;
    function showSection(sectionId) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(sectionId).classList.add('active');
      if (sectionId === 'about') {
        // adjust static map height to match about column
        matchMapHeight();
      }
    }

    // Match .map-media height to the .about column for a pixel-perfect layout
    function matchMapHeight() {
      const about = document.querySelector('.about-row .about');
      const mapEl = document.querySelector('.about-row .about-map .map-media');
      if (!about || !mapEl) return;
      // compute target height (including padding) and set on map
      const target = about.offsetHeight;
      // apply a minimum for readability
      const min = 420;
      mapEl.style.height = Math.max(target, min) + 'px';
      // if Leaflet map exists, invalidate size so tiles render correctly
      if (aboutMap) {
        // small timeout to allow layout to settle
        setTimeout(() => { aboutMap.invalidateSize(); }, 120);
      }
    }

    // simple debounce helper
    function debounce(fn, wait) {
      let t;
      return function(...args) {
        clearTimeout(t);
        t = setTimeout(() => fn.apply(this, args), wait);
      };
    }

    // Default section
    document.addEventListener("DOMContentLoaded", () => {
      showSection("home");

      const popup = document.getElementById("imagePopup");
      const popupImage = document.getElementById("popupImage");
      const popupCitation = document.getElementById("popupCitation");
      const popupLink = document.getElementById("popupLink");
      const popupContent = document.querySelector(".popup-content");

      // Gallery popup
      document.querySelectorAll(".gallery-card").forEach(card => {
        card.addEventListener("click", () => {
          popupImage.src = card.querySelector("img").src;
          popupCitation.textContent = card.dataset.citation;
          popupLink.href = card.dataset.link;
          popup.style.display = "flex";
        });
      });

      // Initialize Leaflet map (interactive)
      try {
        const mapContainer = document.getElementById('aboutMap');
        if (mapContainer && typeof L !== 'undefined') {
          // center map on the CEDAR coordinate provided by user
          const cedarLat = 8.25077355367092;
          const cedarLng = 125.03167718301292;
          aboutMap = L.map('aboutMap', { zoomControl: true }).setView([cedarLat, cedarLng], 13);
          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap contributors'
          }).addTo(aboutMap);
          // Highlight the CEDAR area with a semi-transparent circle (approximate)
          const cedarCircle = L.circle([cedarLat, cedarLng], {
            color: '#0aa06a',
            fillColor: '#0aa06a',
            fillOpacity: 0.12,
            weight: 2,
            radius: 3000
          }).addTo(aboutMap);
          // clicking the highlighted area opens Google Maps at the exact CEDAR coordinates
          cedarCircle.on('click', function() {
            const url = 'https://www.google.com/maps/search/?api=1&query=' + cedarLat + ',' + cedarLng;
            window.open(url, '_blank');
          });
          // Fit the map to show the whole highlighted area with padding (limit zoom)
          aboutMap.fitBounds(cedarCircle.getBounds(), { padding: [40, 40], maxZoom: 12 });
        }
      } catch (e) {
        console.warn('Leaflet failed to initialize:', e);
      }

      // Close popup when clicking outside content
      popup.addEventListener("click", (e) => {
        if (!popupContent.contains(e.target)) {
          popup.style.display = "none";
        }
      });

      // set map height on load and on resize
      matchMapHeight();
      window.addEventListener('resize', debounce(matchMapHeight, 120));
    });

    // Logo popup
    function openLogoPopup() {
      const popup = document.getElementById("imagePopup");
      const popupImage = document.getElementById("popupImage");
      const popupCitation = document.getElementById("popupCitation");
      const popupLink = document.getElementById("popupLink");

      popupImage.src = "cedarscape.png";
      popupCitation.textContent = "CedarScapes Official Logo";
      popupLink.href = "cedarscape.png";

      popup.style.display = "flex";
    }
  </script>
</body>
</html>
